

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to use it &mdash; COCOMA 1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="COCOMA 1 documentation" href="index.html" />
    <link rel="next" title="Single Distribution: CLI Examples" href="02_cli_examples.html" />
    <link rel="prev" title="Controlled Contentious and Malicious(COCOMA) framework - 1.0" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="02_cli_examples.html" title="Single Distribution: CLI Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controlled Contentious and Malicious(COCOMA) framework - 1.0"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">COCOMA 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-use-it">
<h1>How to use it<a class="headerlink" href="#how-to-use-it" title="Permalink to this headline">¶</a></h1>
<p>In order to use COCOMA framework experimenter creates an emulation using XML language(see below Examples section). Emulation should contain all the neccessary information
about duration, magnitude and required resource usage. Once XML document is received by COCOMA, the framework will automatically schedule and execute
required workload on the chosen resource(-s) such as CPU, IO, Memory and/or Network.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The framework is designed to run on GNU/Linux and released in <em>.deb</em> package only.
Once you have downloaded latest COCOMA version install it by running:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ dpkg -i cocoma_X.X-X_all.deb
</pre></div>
</div>
<p>The application will be installed to folder <em>&#8220;/usr/share/pyshared/cocoma&#8221;</em>. All the additional required programs and libraries will be downloaded and installed on the fly if missing.
To check check if it was installed correctly run:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh -v
</pre></div>
</div>
</div>
<div class="section" id="starting-components">
<h2>Starting Components<a class="headerlink" href="#starting-components" title="Permalink to this headline">¶</a></h2>
<p>To avail full functionality of COCOMA two daemons need to be started:</p>
<blockquote>
<div><ul class="simple">
<li>Scheduler daemon (mandatory)</li>
<li>API Daemon (optional if REST API functionality is required)</li>
</ul>
</div></blockquote>
<p><strong>Scheduler daemon</strong> - runs in the background and executes workload with differential parameters at the time defined in the emulation properties.
to start scheduler use command:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh --start scheduler
</pre></div>
</div>
<p>Default network interface is <em>eth0</em>, port <em>51889</em> you can change that by adding required interface name and port number at the end:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh --start scheduler wlan0 5180
</pre></div>
</div>
<p>If more detailed output information is needed <em>Scheduler</em> also can be started in <em>DEBUG</em> mode:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh --start scheduler wlan0 5180 debug
</pre></div>
</div>
<p><em>Note: Scheduler needs to be running otherwise nothing will work. Always start it first!!</em></p>
<p><strong>API daemon</strong> - represents RESTfull web API which exposes COCOMA resources for use over the network. It follows the same startup pattern as the Scheduler:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh --start api
</pre></div>
</div>
<p>By default web API will try to start using <em>eth0</em> network interface on port <em>5050</em>, but it can be changed by supplying own parameters:</p>
<div class="highlight-xml"><div class="highlight"><pre>$ ccmsh --start api wlan0 3030
</pre></div>
</div>
<p>The log level will be always same as the <em>Scheduler</em>.</p>
</div>
<div class="section" id="command-line-arguments">
<h2>Command Line Arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p>The COCOMA <strong class="program">ccmsh</strong> command line interface has several options:</p>
<dl class="cmdoption">
<dt id="cmdoption-ccmsh-h">
<tt class="descname">-h</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--help</tt><tt class="descclassname"> show this help message and exit</tt><a class="headerlink" href="#cmdoption-ccmsh-h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-v">
<tt class="descname">-v</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--version</tt><tt class="descclassname"> show version information</tt><a class="headerlink" href="#cmdoption-ccmsh-v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-l">
<tt class="descname">-l</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--list</tt><tt class="descclassname"> list all emulations or specific emulation by name</tt><a class="headerlink" href="#cmdoption-ccmsh-l" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-r">
<tt class="descname">-r</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--results</tt><tt class="descclassname"> list all emulations results or specific emulation results by name</tt><a class="headerlink" href="#cmdoption-ccmsh-r" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-j">
<tt class="descname">-j</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--list-jobs</tt><tt class="descclassname"> list of all scheduled jobs</tt><a class="headerlink" href="#cmdoption-ccmsh-j" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-i">
<tt class="descname">-i</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--dist</tt><tt class="descclassname"> lists all available distributions and gives distributiondetails by name</tt><a class="headerlink" href="#cmdoption-ccmsh-i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-e">
<tt class="descname">-e</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--emu</tt><tt class="descclassname"> lists all available emulators and gives emulator details by name</tt><a class="headerlink" href="#cmdoption-ccmsh-e" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-x">
<tt class="descname">-x</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--xml</tt><tt class="descclassname"> provide path to XML file with emulation details</tt><a class="headerlink" href="#cmdoption-ccmsh-x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-n">
<tt class="descname">-n</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--now</tt><tt class="descclassname"> add to the &quot;-x&quot; argument to override emulation start date and execute test immediately</tt><a class="headerlink" href="#cmdoption-ccmsh-n" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-d">
<tt class="descname">-d</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--delete</tt><tt class="descclassname"> delete emulation by name</tt><a class="headerlink" href="#cmdoption-ccmsh-d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh-p">
<tt class="descname">-p</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--purge</tt><tt class="descclassname"> wipes all DB entries, removes all scheduled jobs and log files</tt><a class="headerlink" href="#cmdoption-ccmsh-p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh--start">
<tt class="descname">--start</tt><tt class="descclassname"> launch Scheduler or API daemon</tt><a class="headerlink" href="#cmdoption-ccmsh--start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh--stop">
<tt class="descname">--stop</tt><tt class="descclassname"> stop Scheduler or API daemon</tt><a class="headerlink" href="#cmdoption-ccmsh--stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-ccmsh--show">
<tt class="descname">--show</tt><tt class="descclassname"> show OS information on Scheduler or API daemon</tt><a class="headerlink" href="#cmdoption-ccmsh--show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="rest-api-description">
<h2>REST API Description<a class="headerlink" href="#rest-api-description" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre></div></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;emulation&gt;</span>
  <span class="nt">&lt;name&gt;</span>Emu-CPU-RAM-IO<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;emulationType&gt;</span>Mix<span class="nt">&lt;/emulationType&gt;</span>
  <span class="nt">&lt;resourceType&gt;</span>Mix<span class="nt">&lt;/resourceType&gt;</span>
  <span class="nt">&lt;startTime&gt;</span>now<span class="nt">&lt;/startTime&gt;</span>
  <span class="c">&lt;!--duration in seconds --&gt;</span>
  <span class="nt">&lt;stopTime&gt;</span>180<span class="nt">&lt;/stopTime&gt;</span>

  <span class="nt">&lt;distributions&gt;</span>
     <span class="nt">&lt;name&gt;</span>Distro1<span class="nt">&lt;/name&gt;</span>
     <span class="nt">&lt;startTime&gt;</span>5<span class="nt">&lt;/startTime&gt;</span>
     <span class="c">&lt;!--duration in seconds --&gt;</span>
     <span class="nt">&lt;duration&gt;</span>30<span class="nt">&lt;/duration&gt;</span>
     <span class="nt">&lt;granularity&gt;</span>3<span class="nt">&lt;/granularity&gt;</span>
     <span class="nt">&lt;distribution</span> <span class="na">href=</span><span class="s">&quot;/distributions/linear&quot;</span> <span class="na">name=</span><span class="s">&quot;linear&quot;</span> <span class="nt">/&gt;</span>
   <span class="c">&lt;!--cpu utilization distribution range--&gt;</span>
      <span class="nt">&lt;startLoad&gt;</span>90<span class="nt">&lt;/startLoad&gt;</span>
      <span class="nt">&lt;stopLoad&gt;</span>10<span class="nt">&lt;/stopLoad&gt;</span>
      <span class="nt">&lt;emulator</span> <span class="na">href=</span><span class="s">&quot;/emulators/stressapptest&quot;</span> <span class="na">name=</span><span class="s">&quot;lookbusy&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;emulator-params&gt;</span>
        <span class="c">&lt;!--more parameters will be added --&gt;</span>
        <span class="nt">&lt;resourceType&gt;</span>CPU<span class="nt">&lt;/resourceType&gt;</span>
   <span class="c">&lt;!--Number of CPUs to keep busy (default: autodetected)--&gt;</span>
   <span class="nt">&lt;ncpus&gt;</span>0<span class="nt">&lt;/ncpus&gt;</span>

      <span class="nt">&lt;/emulator-params&gt;</span>
  <span class="nt">&lt;/distributions&gt;</span>

   <span class="nt">&lt;distributions&gt;</span>
     <span class="nt">&lt;name&gt;</span>Distro2<span class="nt">&lt;/name&gt;</span>
     <span class="nt">&lt;startTime&gt;</span>5<span class="nt">&lt;/startTime&gt;</span>
     <span class="c">&lt;!--duration in seconds --&gt;</span>
     <span class="nt">&lt;duration&gt;</span>30<span class="nt">&lt;/duration&gt;</span>
     <span class="nt">&lt;granularity&gt;</span>3<span class="nt">&lt;/granularity&gt;</span>
     <span class="nt">&lt;distribution</span> <span class="na">href=</span><span class="s">&quot;/distributions/linear&quot;</span> <span class="na">name=</span><span class="s">&quot;linear&quot;</span> <span class="nt">/&gt;</span>
   <span class="c">&lt;!--cpu utilization distribution range--&gt;</span>
      <span class="nt">&lt;startLoad&gt;</span>10<span class="nt">&lt;/startLoad&gt;</span>
      <span class="nt">&lt;stopLoad&gt;</span>90<span class="nt">&lt;/stopLoad&gt;</span>
      <span class="nt">&lt;emulator</span> <span class="na">href=</span><span class="s">&quot;/emulators/stressapptest&quot;</span> <span class="na">name=</span><span class="s">&quot;lookbusy&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;emulator-params&gt;</span>
        <span class="c">&lt;!--more parameters will be added --&gt;</span>
        <span class="nt">&lt;resourceType&gt;</span>CPU<span class="nt">&lt;/resourceType&gt;</span>
   <span class="c">&lt;!--Number of CPUs to keep busy (default: autodetected)--&gt;</span>
   <span class="nt">&lt;ncpus&gt;</span>0<span class="nt">&lt;/ncpus&gt;</span>

      <span class="nt">&lt;/emulator-params&gt;</span>
  <span class="nt">&lt;/distributions&gt;</span>

  <span class="nt">&lt;log&gt;</span>
   <span class="c">&lt;!-- Use value &quot;1&quot; to enable logging(by default logging is off)  --&gt;</span>
   <span class="nt">&lt;enable&gt;</span>1<span class="nt">&lt;/enable&gt;</span>
   <span class="c">&lt;!-- Use seconds for setting probe intervals(if logging is enabled default is 3sec)  --&gt;</span>
   <span class="nt">&lt;frequency&gt;</span>3<span class="nt">&lt;/frequency&gt;</span>
  <span class="nt">&lt;/log&gt;</span>

<span class="nt">&lt;/emulation&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to use it</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#starting-components">Starting Components</a></li>
<li><a class="reference internal" href="#command-line-arguments">Command Line Arguments</a></li>
<li><a class="reference internal" href="#rest-api-description">REST API Description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Controlled Contentious and Malicious(COCOMA) framework - 1.0</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="02_cli_examples.html"
                        title="next chapter">Single Distribution: CLI Examples</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/01_how_to_use_it.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="02_cli_examples.html" title="Single Distribution: CLI Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controlled Contentious and Malicious(COCOMA) framework - 1.0"
             >previous</a> |</li>
        <li><a href="index.html">COCOMA 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2013, SAP.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>